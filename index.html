<html>
	 <head>
		  <title>Battlezone Legends</title>
		  <style>
			   body { margin: 0; background-color: black; }
			   canvas {
     	  border: 2px solid #00FF00;
     	  background-color: black;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translateX(-50%) translateY(-50%);
     	}
		  </style>
  </head>
  <body>
    <script src="js/three.js"></script>
    <script>
      class Game {
        constructor(width, height) {
          this.width = width;
          this.height = height;
		        
          this.scene = new THREE.Scene();
          this.camera = new THREE.PerspectiveCamera(75, width/height, 0.1, 1000);
          this.camera.position.z = 5;

          this.renderer = new THREE.WebGLRenderer();
          this.renderer.setSize(width, height);
          document.body.appendChild(this.renderer.domElement);
          
          var self = this;
          document.onkeydown = e => self.handleInput(self, e);
        }
        
        addCube(x, z) {
          var geometry = new THREE.BoxGeometry(1, 1, 1);
          var material = new THREE.MeshNormalMaterial();
          var mesh = new THREE.Mesh(geometry, material);
          var cube = new THREE.BoxHelper(mesh);
          cube.material.color.set(0x00ff00);
          cube.rotation.y += 2;
          cube.position.x = x;
          cube.position.z = z;
          this.scene.add(cube);
          return cube;
        }
        
        render() {
          requestAnimationFrame(this.render);
          this.renderer.render(this.scene, this.camera);
        };
			
        handleInput(sender, e) {
          if (e.keyCode == '38') { // up
            sender.camera.position.z -= .1;
          } else if (e.keyCode == '40') { // down
            sender.camera.position.z += .1;
          } else if (e.keyCode == '37') { // left
            sender.camera.rotation.y += .03;
          } else if (e.keyCode == '39') { // right
            sender.camera.rotation.y -= .03;
          }
          
          this.render();
        }
      }
      
      var game = new Game(800, 600);
		   	game.addCube(1, -1.5);
		   	game.addCube(-3, 2.5);
		   	game.addCube(-1, 0);
		   	game.render();
    </script>
	 </body>
</html>